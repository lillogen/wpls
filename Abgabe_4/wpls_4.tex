\documentclass[12pt,a4paper]{article}
\usepackage[ngerman]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8x]{inputenc}
\usepackage{url}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{geometry}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{tabularx}
\usepackage{txfonts} %Times New Roman Font
\usepackage{titlesec} %Format der Headings ändern
\usepackage{times}
\usepackage{float}
\usepackage{listings}
\usepackage{subfig}
\usepackage[linesnumbered, lined, boxed, commentsnumbered]{algorithm2e}
\usepackage[bottom]{footmisc}


\renewcommand{\thesection}{\arabic{section}.} %Nummerierung der Sections anpassen
\renewcommand{\labelenumi}{\alph{enumi})}  %Nummerierung der Listen anpassen
\titleformat{\section}{\large\bfseries}{\thesection}{0.5em}{} %Format der Section Überschrift ändern
\setlength{\parindent}{0pt} %Keine Einrückung bei neuen Paragraphen
\geometry{left=2.0cm,textwidth=17cm,top=2.5cm,textheight=23cm}

% Anpassen %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\student}{Benedict Schlüter\\ 108018212913 } % Namen eintragen
\newcommand{\partner}{Christoph Lange\\ 108015222248} % Matrikelnummer eintragen
\newcommand{\group}{1} % Gruppennummer eintragen
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\hwheadtwo}{$ $
  \vspace{-2cm}
  
\noindent \student \qquad \qquad  Wireless Physical Layer Security Praktikum \hfill WS 2019/2020 \\
\noindent \partner \\
%\noindent \thirdone \\  % einkommentieren, falls ihr eine 3er Gruppe seid
\noindent Gruppe:~\group\\
$ $

  
\begin{center}    
{\Large \bf Abgabe PHYSEC 4}
\end{center}
}

\begin{document}
\hwheadtwo
Wir lassen über die Hausaufgabe eine Versionskontrolle laufen. Wenn irgendetwas in der ZIP fehlen sollte, kannst du uns entwerder 0 Punkte geben oder du schaust einmal kurz hier nach \url{https://git.noc.ruhr-uni-bochum.de/Kakashiiiiy/wpls_abgabe_2}.\\
Achja und wir waren so frei für euch das Framework in Python 3 zu portieren, unter dem Github Link findet ihr das. Des Weiteren nutzen wir gitlab Actions, damit ihr seht, dass unser Code funktioniert ;)\\
Unser Code geht übrigens nicht mehr mit Python 2, da die map()-Funktion in Python 2 nicht aufhöhrt wenn ein Iterator erschöpft ist.
\section{Absorberhalle}
\subsection*{1 und 2 }
Im Vergleich zur ersten Messung, die wir Zuhause durchgeführt haben, ist doch merklich, dass es viel weniger Interferenzen gibt.\\ 
Auffälig ist, dass Beispielsweise bei der 1 Messung ohne Bewegung eine viel höhrere Standardabweichung vorhanden ist, als wenn wir Zuhause messen (4.5 gegen 0.5). Bei der zweiten Messung mit Bewegung im Raum, konnten wir das gleich Ergebnis festellen, auch hier ist die Standardabweichung deutlich erhöht.
\begin{table}[H]
\centering
\begin{tabular}{ cc }
Zuhause & Absorberhalle  \\
\begin{tabular}{l|l|l}
& Mittelwert & empirische std \\
\hline
Alice & -70.24570 & 5.23857 \\
\hline
Bob & -70.02834 & 5.12334 \\
\hline
Eve & -58.23386 & 4.41267 \\
\end{tabular} &
\begin{tabular}{l|l|l}
& Mittelwert & empirische std \\
\hline
Alice & -65.70090 & 11.01262 \\
\hline
Bob & -65.41460 & 10.86356 \\
\hline
Eve & -64.49248 & 10.11749 \\
\end{tabular}
\end{tabular}
\end{table}
Die Korrelation der beiden Ergebnisse ist identisch, nur, dass in der Absorberhalle die Ergebnisse noch näher an der eins liegen als Zuhause.
\begin{figure}[H]
\centering
\subfloat[Zuhause]{\includegraphics[width=0.4\textwidth]{../Abgabe_3/Messungen/2_mitBwg_A_B/output_Ex3/correlation_AB.png}}   \qquad
\subfloat[Absorber]{\includegraphics[width=0.4\textwidth]{Messungen/A_2_mit_Bwg/output_Ex4/correlation_AB_.png}}
\caption{2 Korrelation mit Bewegung  \textbf{Blocksize 10}}
\label{fig:2}
\end{figure}
\subsection*{3 A}
Die 3 Auswertung, 20cm Abstand mit Bewegung, ist schwer zu vergleichen, da die Bewegungen willkürlich waren. Es fällt jedoch auf, dass wir auch erneut eine deutlich höhere std-Abweichung haben, da jede unserer Bewegungen das Signal deutlich verändert.
\begin{table}[H]
\centering
\begin{tabular}{ cc }
Zuhause & Absorberhalle  \\
\begin{tabular}{l|l|l}
& Mittelwert & empirische std \\
\hline
Alice & -48.80779 & 1.79983 \\
\hline
Bob & -48.79270 & 1.79899 \\
\hline
Eve & -69.58161 & 3.10826 \\
\end{tabular} &
\begin{tabular}{l|l|l}
& Mittelwert & empirische std \\
\hline
Alice & -48.57021 & 4.79384 \\
\hline
Bob & -48.40535 & 4.76761 \\
\hline
Eve & -38.24554 & 6.91417 \\
\end{tabular}
\end{tabular}
\end{table}
Bei der Korrelation tut sich nicht viel, weswegen ich das Bild mal nicht einfüge.\\
Ohne Bewegung mit 20cm Abstand, bekommen wir in der Absorberhalle mehr Entropie auf den Channel als Zuhause, dies wird erneut deutlich, wenn die std-Abweichung verglichen wird.
\begin{table}[H]
\centering
\begin{tabular}{ cc }
Zuhause & Absorberhalle  \\
\begin{tabular}{l|l|l}
& Mittelwert & empirische std \\
\hline
Alice & -49.00072 & 0.02689 \\
\hline
Bob & -49.00000 & 0.00000 \\
\hline
Eve & -72.23263 & 0.85618 \\
\end{tabular} &
\begin{tabular}{l|l|l}
& Mittelwert & empirische std \\
\hline
Alice & -51.39272 & 0.49181 \\
\hline
Bob & -51.28600 & 0.51626 \\
\hline
Eve & -33.00033 & 0.01819 \\
\end{tabular}
\end{tabular}
\end{table}
Bei der Korrelation ergibt sich ein ähnliches Bild, da wir des öfteren bei Abschnitten eine std-Abweichung von Null haben und wir durch Null teilen würden, lässt sich für diesen Bereich kein Korrelationswert berechnen.\\
\subsection*{3 B}
Bei 10 Meter Entfernung mit Bewegung haben wir eine gegensätzliche Entwicklung als vorher. So ist die std-Abweichung hier Zuhause höher als in der Absorberhalle und auch die Korrelation ist Zuhause 'besser'.
\begin{table}[H]
\centering
\begin{tabular}{ cc }
Zuhause & Absorberhalle  \\
\begin{tabular}{l|l|l}
& Mittelwert & empirische std \\
\hline
Alice & -48.80779 & 1.79983 \\
\hline
Bob & -48.79270 & 1.79899 \\
\hline
Eve & -69.58161 & 3.10826 \\
\end{tabular} &
\begin{tabular}{l|l|l}
& Mittelwert & empirische std \\
\hline
Alice & -71.91518 & 1.53653 \\
\hline
Bob & -71.75197 & 1.49184 \\
\hline
Eve & -69.54362 & 2.42951 \\
\end{tabular}
\end{tabular}
\end{table}

\begin{figure}[H]
\centering
\subfloat[Zuhause]{\includegraphics[width=0.4\textwidth]{../Abgabe_3/Messungen/3_b_mitBwg_A_B/output_Ex3/correlation_AB.png}}   \qquad
\subfloat[Absorber]{\includegraphics[width=0.4\textwidth]{Messungen/A_3b_mit_Bwg/output_Ex4/correlation_AB_.png}}
\caption{3b Korrelation mit Bewegung  \textbf{Blocksize 10}}
\label{fig:3b}
\end{figure}
Ebenfalls merkwürdig ist, dass die Korrelation so viel schlechter ist, als in der Absorberhalle. Diesen Sachverhalt können wir uns nicht erklären, wir hatte in der Absorberhalle eine Sichtverbindung zwischen den beiden PI's. Wir vermuten, dass unsere Körper das Signal 'blockiert' haben und so nichts an der anderen Seite angekommen ist. 
\subsection*{4}
In dieser Messung sollten wir Alice zyklisch bewegen (lassen). Wir haben jedoch Zuhause Alice zyklisch mit der Hand bewegt und in der Absorberhalle Alice an einer Schnur befestigt und gependelt.
\begin{table}[H]
\centering
\begin{tabular}{ cc }
Zuhause & Absorberhalle  \\
\begin{tabular}{l|l|l}
& Mittelwert & empirische std \\
\hline
Alice & -62.28577 & 7.08883 \\
\hline
Bob & -62.06654 & 7.04135 \\
\hline
Eve & -55.98965 & 7.07650 \\
\end{tabular} &
\begin{tabular}{l|l|l}
& Mittelwert & empirische std \\
\hline
Alice & -51.78577 & 6.28086 \\
\hline
Bob & -51.56843 & 6.22006 \\
\hline
Eve & -46.37456 & 6.69024 \\
\end{tabular}
\end{tabular}
\end{table}

\begin{figure}[H]
\centering
\subfloat[Zuhause]{\includegraphics[width=0.4\textwidth]{../Abgabe_3/Messungen/4_mitBwg_A_B/output_Ex3/correlation_AB.png}}   \qquad
\subfloat[Absorber]{\includegraphics[width=0.4\textwidth]{Messungen/A_4_mit_Bwg/output_Ex4/correlation_AB_.png}}
\caption{3b Korrelation mit Bewegung  \textbf{Blocksize 10}}
\label{fig:4}
\end{figure}
An diesen Ergebnissen ist nichts auffällig, die niedrigere std-Abweichung kann bsp auf die andere Bewegung zurückgeführt werden und auch die Korrelation ist wie erwartet.
\subsection*{5}
Hier ist das gleiche Ergebnis zu sehen, wie wir es Zuhause auch hatten, die Korrelation von Alice und Eve ist im Vergleich zu den vorherigen Messungen leicht erhöht, jedoch immernoch weit von der zwischen Alice und Bob entfernt

\begin{table}[H]
\centering
\begin{tabular}{ cc }
Zuhause & Absorberhalle  \\
\begin{tabular}{l|l|l}
& Mittelwert & empirische std \\
\hline
Alice & -63.77634 & 7.33027 \\
\hline
Bob & -63.45434 & 7.31302 \\
\hline
Eve & -58.22699 & 7.88637 \\
\end{tabular} &
\begin{tabular}{l|l|l}
& Mittelwert & empirische std \\
\hline
Alice & -54.31316 & 10.02524 \\
\hline
Bob & -54.04349 & 9.96904 \\
\hline
Eve & -50.82739 & 11.66601 \\
\end{tabular}
\end{tabular}
\end{table}

\begin{figure}[H]
\centering
\subfloat[Zuhause]{\includegraphics[width=0.4\textwidth]{../Abgabe_3/Messungen/5_mitBwg_A_B/output_Ex3/correlation_AE.png}}   \qquad
\subfloat[Absorber]{\includegraphics[width=0.4\textwidth]{Messungen/A_5_mit_Bwg/output_Ex4/correlation_AE.png}}
\caption{3b Korrelation mit Bewegung \textbf{Blocksize 10}}
\label{fig:5}
\end{figure}
\subsection*{b)}
Die Messung, bei der wir Eve und Bob am Fuß hatten, weißt die schlechtesten Chancen für Eve auf. So ist die Korrelation hier nicht ein einziges mal 1, während Alice und Bob hoch Korreliert sind.
\begin{figure}[H]
\centering
\subfloat[]{\includegraphics[width=0.4\textwidth]{Messungen/A_Aufgabe1_B_am_Fus/output_Ex4/correlation_AB_.png}} \qquad
\subfloat[]{\includegraphics[width=0.4\textwidth]{Messungen/A_Aufgabe1_B_am_Fus/output_Ex4/correlation_AE.png}}  
\caption{3b Korrelation mit Bewegung  \textbf{Blocksize 10}}
\label{fig:6}
\end{figure}
\subsection*{Fazit}
Wir haben sehr unterschiedliche Ergebnisse in der Absorberhalle erziehlt. Bei den ersten Messungen, war die Entropie auf den Channel höher, aber sobald der Abstand 10m betrug, war es besser in 'normaler' Umgebung zu Messen, die Werte zwischen A und B waren dann verhältnismäßig unkorreliert. Aber abgesehen davon, gab es keine Großen unterschiede. Eve hatte in keinem Fall eine Chance den Key zu extrahieren, da A E sehr unkorreliert war. In der 5 Messung, haben wir ebenfalls nur eine bedingt erhöhte Korrelation zwischen Eve und Alice feststellen können.\\
Trotz der Absorberhalle, war bei einigen Messungen, bei denen es keine Bewegung im Raum gab, die std-Abweichung verhältnismäßig hoch bzw. ungleich 0, wie wir es erwartet hätten. Dies führen wir auf thermisches rauschen bzw. die ungenauigkeit der Hardware zurück.
\clearpage
\section{Bit Error Rate}
Implementiert, aber nicht so wie definiert, wenn alle Bits falsch sind haben wir laut der Definition auf der Folie ein Biterrorrate von 0, jedoch ist dies falsch, da wir einmal invertieren müssen, damit wir das richtige Ergebnis bekommen. Daher addieren wir, falls wir über 0.5 sind noch 1/len auf die Biterrorrate hinzu, was dem Schritt des Invertierens entspricht
\section{Implementierung Quantisierer}
Beide Implementiert, beim ersten kleiner Fehler an einer Bereichsgrenze bei euch oder bei mir, was die Testvektoren (ae) angeht.\\
Beim zweiten ist mehr falsch aber keine Ahnung was.
\section{Attack Trees}
\section{Angriffe}
\subsection*{Eavsdropping Attack}
Die Messung sieht wie in Abbildung \ref{test7} zu sehen ist aus. Nach der Hälfte der Zeit waren wir bei Messung 3b angekommen, wir erhöhten also die Distanz auf 10m, was sehr schön in der Abbildung zu sehen ist. Zu diesem Zeitpunkt brechen die RSSI Werte ein und werden Teilweise sehr schwach. Um nun zu sehen, zu welchem Zeitpunkt ein Angreifer die besten Chancen hat, schauen wir uns zum einen die Biterrorrate an und zum anderen die Mutal Information.
\begin{figure}[H]
\centering
\includegraphics[width=0.7\textwidth]{Messungen/Messungen_aus_3/output_Ex4/measurement_shortened.png}
\caption{RSSI Verlauf der Messwerte aus Assignemnt 3}
\label{test7}
\end{figure}
Bei der Biterrorrate fällt auf, dass der Angreifer bei Bewegung i.d.r Chancenlos ist. So ist an Anfang Anfang die Biterrorate zwischen Alice und Bob höher als zwischen Alice und Eve. Als Bewegung einsetzt sinkt die Rate wieder. Jedoch kann je nach Reconcilliation-Verfahren genug Information preigegeben werden, dass Eve an den Key kommt.
\begin{figure}[H]
\centering
\subfloat[Quant 1]{\includegraphics[width=0.4\textwidth]{Messungen/Messungen_aus_3/output_Ex4/ber_AB_Quant_1.png}} \qquad
\subfloat[Quant 1]{\includegraphics[width=0.4\textwidth]{Messungen/Messungen_aus_3/output_Ex4/ber_AE_Quant_1.png}}  
\caption{Biterrorrate Quant 1 \textbf{Blocksize 50}}
\label{fig:7}
\end{figure}
Beim zweiten Quantisierer hat der Angreifer keine Chance, wie man sieht gab es hier schon eine Art von Reconcilliation Alice und Eve haben den gleichen Key, während Bob und Alice sehr unkorreliert sind. Jedoch wurden hier auch äußerst wenig Bits extrahiert.
\begin{figure}[H]
\centering
\subfloat[Quant 2]{\includegraphics[width=0.4\textwidth]{Messungen/Messungen_aus_3/output_Ex4/ber_AB_Quant_2.png}} \qquad
\subfloat[Quant 2]{\includegraphics[width=0.4\textwidth]{Messungen/Messungen_aus_3/output_Ex4/ber_AE_Quant_2.png}}  
\caption{Biterrorrate Quant 2 \textbf{Blocksize 10}}
\label{fig:8}
\end{figure}

\subsection*{Repetition Attack}
\subsection*{Prediction Attack}
\subsection*{Eigener Angriff}
\section{Angriffe in der Aborberhalle}
Die Quantisierer kann man schlecht vergleichen, da der Suhas/Mathur Quantisierer schon eine Art Information reconcilliation drin hat, der Jana Multibit aber nicht. Von daher können wir hier keinen vernünftigen Vergleich durchführen.
\subsection*{Repetition Attack}
\begin{figure}[H]
\centering

\subfloat[Quant 2]{\includegraphics[width=0.4\textwidth]{Messungen/A_repetition_2/output_Ex4/measurement_shortened.png}} \qquad
\subfloat[Quant 2]{\includegraphics[width=0.4\textwidth]{Messungen/A_repitition_atk/output_Ex4/measurement_shortened.png}}  
\caption{Messwerte der Repition Attacks}
\label{fig:9}
\end{figure}
Wie in Abbildung \ref{fig:9} zu sehen ist, ist diese Messung sehr gleichförmig. Wir haben Alice an einem Pendel befestigt und schwingen lassen. Als Angreifer hat man hier keine Chance einen erfolgreichen Angriff zu starten, auch hier ist sowohl die Mutal-Information zwischen Alice und Eve viel zu klein und die BER viel zu hoch ungeachtet des Quantisierers. Die 2 Messung (in der Eve ein kleines Stückchen näher war lieferte das gleiche Ergebnis). Vielleicht ist es möglich einen besseren Angriff zu starten, indem man die Ergebnisse aus mehreren Messungen kombiniert. 
\begin{figure}[H]
\centering
\subfloat[Quant 2]{\includegraphics[width=0.4\textwidth]{Messungen/A_repetition_2/output_Ex4/ber_AB_Quant_2.png}} \qquad
\subfloat[Quant 2]{\includegraphics[width=0.4\textwidth]{Messungen/A_repetition_2/output_Ex4/ber_AE_Quant_2.png}}  
\caption{Biterrorrate Quant 2 \textbf{Blocksize 10}}
\label{fig:10}
\end{figure}
\begin{figure}[H]
\centering
\subfloat[Quant 1]{\includegraphics[width=0.4\textwidth]{Messungen/A_repetition_2/output_Ex4/ber_AB_Quant_1.png}} \qquad
\subfloat[Quant 1]{\includegraphics[width=0.4\textwidth]{Messungen/A_repetition_2/output_Ex4/ber_AE_Quant_1.png}}  
\caption{Biterrorrate Quant 2 \textbf{Blocksize 50}}
\label{fig:11}
\end{figure}
Beim wechsel der Position ergibt sich ein ähnlches Bild.
\subsection*{Prediction Attack}
Zuersteinmal zum vorgehen, wir haben einen der schwarzen Absorber immer wieder zwischen Alice und Eve/Bob gepackt, und so einen einbruch der stärke des Empfangssignals provoziert. Dies wird auch in Abbildung \ref{fig:12} deutlich.\\
\begin{figure}[H]
\centering
\includegraphics[width=0.7\textwidth]{Messungen/A_predictions/output_Ex4/measurement_shortened.png}
\caption{RSSI Verlauf der Messwerte aus der Prediction Attack}
\label{fig:12}
\end{figure}
Hier ergibt sich in Bezug auf Quantisierer 2 das gleiche Bild wie in dem vorherigen Angriff. Die Werte sind viel zu unkorreliert, als das sich ein guter Angriff ergeben würde. Dies wird erneut deutlich, wenn die Bilder zu BER betrachtet werden. Zwar ist die MI besser als im Repetition Angriff, jedoch reicht dies nicht aus. Die BER ist im Schnitt zu hoch zwischen Alice und Eve im Vergleich zu Eve und Bob, dass selbst durch zusätzliche Informationen, die durch Reconcilliation preigegeben werden der Key nicht berechnet werden kann.
\begin{figure}[H]
\centering
\subfloat[Quant 1]{\includegraphics[width=0.4\textwidth]{Messungen/A_predictions/output_Ex4/ber_AB_Quant_1.png}} \qquad
\subfloat[Quant 1]{\includegraphics[width=0.4\textwidth]{Messungen/A_predictions/output_Ex4/ber_AE_Quant_1.png}}  
\caption{Biterrorrate Quant 1 \textbf{Blocksize 50}}
\label{fig:13}
\end{figure}
\begin{figure}[H]
\centering
\subfloat[Quant 2]{\includegraphics[width=0.4\textwidth]{Messungen/A_predictions/output_Ex4/ber_AB_Quant_2.png}} \qquad
\subfloat[Quant 2]{\includegraphics[width=0.4\textwidth]{Messungen/A_predictions/output_Ex4/ber_AE_Quant_2.png}}  
\caption{Biterrorrate Quant 2 \textbf{Blocksize 10}}
\label{fig:14}
\end{figure}
Jedoch sieht es bei Quantisierer 1 (Abbildung \ref{fig:13}) viel besser aus. So sehen wir eine BER von 0, in dem Moment, in dem das Signal stark einbricht. Hier mit diesem Quantisierer ist also ein Praktischer Angriff theoretisch möglich. Jedoch weichen den gesamten Rest der Messung die Werte teils stark ab und die BER ist im Mittel ungefähr 2,5. 
\section{Bonus: Reading Assignment}
\end{document}